# Generated by Django 5.2.11 on 2026-02-15 18:52

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('species', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='CompanionRelation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_relation', models.CharField(choices=[('compagnon_positif', 'âœ… Compagnon bÃ©nÃ©fique gÃ©nÃ©ral'), ('fixateur_azote', 'ğŸŒ± Fixe azote (aide croissance)'), ('attire_pollinisateurs', 'ğŸ Attire pollinisateurs'), ('repousse_nuisibles', 'ğŸ›¡ï¸ Repousse nuisibles'), ('abri', 'ğŸ  Fournit abri/ombre'), ('coupe_vent', 'ğŸ’¨ Protection contre vent'), ('support_physique', 'ğŸªœ Support physique (tuteur vivant)'), ('mycorhize', 'ğŸ„ Association mycorhizienne'), ('accumulateur', 'ğŸ’ Accumule nutriments (aide fertilitÃ©)'), ('compagnon_negatif', 'âŒ Compagnon nÃ©faste'), ('allelopathie', 'â˜ ï¸ AllÃ©lopathie (toxines)'), ('competition_eau', 'ğŸ’§ CompÃ©tition pour eau'), ('competition_lumiere', 'â˜€ï¸ CompÃ©tition pour lumiÃ¨re'), ('competition_nutriments', 'ğŸŒ¿ CompÃ©tition pour nutriments'), ('hote_maladie', 'ğŸ¦  HÃ´te de maladies communes')], max_length=30)),
                ('force', models.IntegerField(default=5, help_text='IntensitÃ© de la relation (1=faible, 10=trÃ¨s forte)')),
                ('distance_optimale', models.FloatField(blank=True, help_text='Distance optimale en mÃ¨tres (si pertinent)', null=True)),
                ('description', models.TextField(blank=True, help_text="Description dÃ©taillÃ©e de l'interaction")),
                ('source_info', models.CharField(blank=True, help_text="Source de l'information (livre, article, observation)", max_length=200)),
                ('date_ajout', models.DateTimeField(auto_now_add=True)),
                ('organisme_cible', models.ForeignKey(help_text="Organisme qui reÃ§oit l'effet", on_delete=django.db.models.deletion.CASCADE, related_name='relations_entrantes', to='species.organism')),
                ('organisme_source', models.ForeignKey(help_text="Organisme qui produit l'effet", on_delete=django.db.models.deletion.CASCADE, related_name='relations_sortantes', to='species.organism')),
            ],
            options={
                'verbose_name': 'Relation de compagnonnage',
                'verbose_name_plural': 'Relations de compagnonnage',
                'ordering': ['organisme_source__nom_commun'],
                'unique_together': {('organisme_source', 'organisme_cible', 'type_relation')},
            },
        ),
    ]
